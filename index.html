<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistema 6º BBM - SAdm</title>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;800&display=swap" rel="stylesheet">

<style>

body{
margin:0;
font-family:'Open Sans',sans-serif;
background:linear-gradient(135deg,#002244,#003366);
}

/* LOGIN */
#loginScreen{
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

.login-box{
background:white;
padding:40px;
border-radius:10px;
width:320px;
text-align:center;
box-shadow:0 10px 30px rgba(0,0,0,0.3);
}

input{
width:100%;
padding:10px;
margin:10px 0;
border-radius:5px;
border:1px solid #ccc;
}

button{
width:100%;
padding:10px;
background:#CC0000;
color:white;
border:none;
border-radius:5px;
cursor:pointer;
font-weight:bold;
}

button:hover{
background:#a80000;
}

/* SISTEMA */
#sistema{
display:none;
padding:30px;
background:#EAF6FF;
min-height:100vh;
}

.top-bar{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:20px;
}

.logout{
background:#003366;
width:auto;
padding:8px 15px;
}

.category{
margin-bottom:30px;
}

.category-title{
font-weight:800;
color:#CC0000;
margin-bottom:10px;
}

.link-card{
background:white;
padding:15px;
border-radius:8px;
margin-bottom:10px;
}

</style>
</head>
<body>

<!-- LOGIN -->
<div id="loginScreen">
<div class="login-box">
<h2>Login 6º BBM</h2>
<input type="text" id="usuario" placeholder="Usuário">
<input type="password" id="senha" placeholder="Senha">
<button onclick="login()">Entrar</button>
<p id="erro" style="color:red;"></p>
</div>
</div>

<!-- SISTEMA -->
<div id="sistema">

<div class="top-bar">
<h3>Usuário: <span id="nomeUsuario"></span></h3>
<button class="logout" onclick="logout()">Sair</button>
</div>

<!-- B1 -->
<div class="category" data-setor="B1">
<div class="category-title">B1 - Pessoal</div>
<div class="link-card">Escala de Serviço</div>
<div class="link-card">Plano de Férias</div>
</div>

<!-- B2 -->
<div class="category" data-setor="B2">
<div class="category-title">B2 - Inteligência</div>
<div class="link-card">Distribuição Análise</div>
<div class="link-card">Distribuição Recurso</div>
</div>

<!-- B3 -->
<div class="category" data-setor="B3">
<div class="category-title">B3 - Operações</div>
<div class="link-card">Planilha B3</div>
<div class="link-card">Treinamentos</div>
</div>

<!-- B4 -->
<div class="category" data-setor="B4">
<div class="category-title">B4 - Logística e Patrimônio</div>
<div class="link-card">Controle de Material</div>
<div class="link-card">Manutenção</div>
</div>

</div>

<script>

// USUÁRIOS COM SETOR
const usuarios = {
    "b1": {senha:"123", setor:"B1"},
    "b2": {senha:"123", setor:"B2"},
    "b3": {senha:"123", setor:"B3"},
    "b4": {senha:"123", setor:"B4"},
    "chefe": {senha:"admin", setor:"TODOS"}
};

function login(){

    const user=document.getElementById("usuario").value;
    const pass=document.getElementById("senha").value;

    if(usuarios[user] && usuarios[user].senha===pass){

        sessionStorage.setItem("usuarioLogado", user);
        carregarSistema(user);

    }else{
        document.getElementById("erro").innerText="Usuário ou senha incorretos";
    }
}

function carregarSistema(user){

    const setor=usuarios[user].setor;

    document.getElementById("loginScreen").style.display="none";
    document.getElementById("sistema").style.display="block";
    document.getElementById("nomeUsuario").innerText=user;

    const categorias=document.querySelectorAll(".category");

    categorias.forEach(cat=>{
        if(setor==="TODOS"){
            cat.style.display="block";
        }else{
            cat.style.display = cat.getAttribute("data-setor")===setor ? "block":"none";
        }
    });
}

function logout(){
    sessionStorage.removeItem("usuarioLogado");
    location.reload();
}

// Mantém login se já estiver ativo
const usuarioSalvo=sessionStorage.getItem("usuarioLogado");
if(usuarioSalvo){
    carregarSistema(usuarioSalvo);
}

</script>

</body>
</html>
